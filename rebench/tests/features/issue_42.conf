default_experiment: Test

build_log: build.log

runs:
    invocations: 1
    min_iteration_time: 0

benchmark_suites:
    Suite1:
        gauge_adapter: TestExecutor
        command: TestBenchMarks %(benchmark)s %(warmup)s
        benchmarks:
            - Bench1:
                warmup: 13

executors:
    VM1:
        path: .
        executable: issue_42_vm.py
        env:
            IMPORTANT_ENV_VARIABLE: "iexist"
            ALSOIMPORTANT: "3"
    exe-with-build-but-not-env:
        path: .
        executable: issue_42_vm.py
        build:
            - |
                env
    exe-with-build-and-env:
        path: .
        executable: issue_42_vm.py
        env:
            VAR1: test
            VAR3: another test
        build:
            - |
                env

experiments:
    Test:
        suites:
          - Suite1
        executions:
          - VM1
    BuildWithEnv:
        suites:
            - Suite1
        executions:
            - exe-with-build-and-env
    BuildWithoutEnv:
        suites:
            - Suite1
        executions:
            - exe-with-build-but-not-env
